{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}
{% block header %}Dashboard{% endblock %}

{% block content %}
<!-- Welcome Banner -->
<div class="search-bar-container rounded-lg p-8 md:p-12 mb-8 text-center text-white shadow-lg">
    <h1 class="text-3xl md:text-4xl font-bold mb-4">Welcome to AMP Library Dashboard</h1>
    <p class="mb-6 text-lg">Quickly search the catalog or manage library operations.</p>
</div>

<!-- Stats -->
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
    <div class="stat-card p-6 flex items-center">
        <i class="fas fa-book fa-3x text-green-500"></i>
        <div class="ml-4">
            <p class="text-lg font-semibold text-gray-700">Total Books</p>
            <p class="text-3xl font-bold text-gray-900">{{ total_books }}</p>
        </div>
    </div>
    <div class="stat-card p-6 flex items-center">
        <i class="fas fa-users fa-3x text-blue-500"></i>
        <div class="ml-4">
            <p class="text-lg font-semibold text-gray-700">Total Members</p>
            <p class="text-3xl font-bold text-gray-900">{{ total_members }}</p>
        </div>
    </div>
    <div class="stat-card p-6 flex items-center">
        <i class="fas fa-sign-out-alt fa-3x text-yellow-500"></i>
        <div class="ml-4">
            <p class="text-lg font-semibold text-gray-700">Books Issued</p>
            <p class="text-3xl font-bold text-gray-900">{{ books_issued }}</p>
        </div>
    </div>
    <div class="stat-card p-6 flex items-center">
        <i class="fas fa-undo-alt fa-3x text-red-500"></i>
        <div class="ml-4">
            <p class="text-lg font-semibold text-gray-700">Overdue</p>
            <p class="text-3xl font-bold text-gray-900">{{ overdue }}</p>
        </div>
    </div>
</div>

<!-- Grid -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Recently Added Books -->
    <div class="lg:col-span-2 bg-white p-6 rounded-lg shadow-md">
        <h3 class="text-xl font-semibold mb-4 text-gray-800">Recently Added Books</h3>
        <table class="w-full text-left">
            <thead>
                <tr class="text-gray-600 border-b">
                    <th class="py-2">Book Title</th>
                    <th class="py-2">Author</th>
                    <th class="py-2">Date Added</th>
                </tr>
            </thead>
            <tbody>
                {% for book in recent_books %}
                <tr class="border-b hover:bg-gray-50">
                    <td class="py-3">{{ book.title }}</td>
                    <td class="py-3 text-gray-600">{{ book.author }}</td>
                    <td class="py-3 text-gray-500">{{ book.added_on|date:"Y-m-d" }}</td>
                </tr>
                {% empty %}
                <tr><td colspan="3" class="text-center py-4">No recent books.</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Quick Actions -->
    <div class="bg-white p-6 rounded-lg shadow-md">
        <h3 class="text-xl font-semibold mb-4 text-gray-800">Quick Actions</h3>
        <div class="space-y-3">
            <a href="{% url 'add_book' %}" class="w-full block text-left p-3 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 font-medium flex items-center">
                <i class="fas fa-plus-circle mr-3"></i> Add New Book
            </a>
            <a href="{% url 'add_member' %}" class="w-full block text-left p-3 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 font-medium flex items-center">
                <i class="fas fa-user-plus mr-3"></i> Register Member
            </a>
        </div>
    </div>
</div>
{% endblock %}
